//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ../pdfreporter-core/src/org/oss/pdfreporter/components/list/BaseFillList.java
//

#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "java/lang/UnsupportedOperationException.h"
#include "java/util/HashMap.h"
#include "java/util/List.h"
#include "java/util/Map.h"
#include "java/util/logging/Level.h"
#include "java/util/logging/Logger.h"
#include "org/oss/pdfreporter/components/list/BaseFillList.h"
#include "org/oss/pdfreporter/components/list/FillDatasetRun.h"
#include "org/oss/pdfreporter/components/list/ListComponent.h"
#include "org/oss/pdfreporter/components/list/ListContents.h"
#include "org/oss/pdfreporter/engine/JRComponentElement.h"
#include "org/oss/pdfreporter/engine/JRDatasetRun.h"
#include "org/oss/pdfreporter/engine/JRDefaultStyleProvider.h"
#include "org/oss/pdfreporter/engine/JRException.h"
#include "org/oss/pdfreporter/engine/JRExpression.h"
#include "org/oss/pdfreporter/engine/JROrigin.h"
#include "org/oss/pdfreporter/engine/JRPrintElement.h"
#include "org/oss/pdfreporter/engine/JRPrintElementContainer.h"
#include "org/oss/pdfreporter/engine/JRRuntimeException.h"
#include "org/oss/pdfreporter/engine/JRStyle.h"
#include "org/oss/pdfreporter/engine/component/BaseFillComponent.h"
#include "org/oss/pdfreporter/engine/component/FillContext.h"
#include "org/oss/pdfreporter/engine/fill/JRFillDataset.h"
#include "org/oss/pdfreporter/engine/fill/JRFillExpressionEvaluator.h"
#include "org/oss/pdfreporter/engine/fill/JRFillObjectFactory.h"
#include "org/oss/pdfreporter/engine/fill/JRTemplateFrame.h"
#include "org/oss/pdfreporter/engine/fill/JRTemplatePrintFrame.h"
#include "org/oss/pdfreporter/uses/java/util/UUID.h"

inline JavaUtilLoggingLogger *OrgOssPdfreporterComponentsListBaseFillList_get_log();
static JavaUtilLoggingLogger *OrgOssPdfreporterComponentsListBaseFillList_log;
J2OBJC_STATIC_FIELD_OBJ_FINAL(OrgOssPdfreporterComponentsListBaseFillList, log, JavaUtilLoggingLogger *)

@interface OrgOssPdfreporterComponentsListBaseFillList_AppendingPrintElementContainer () {
 @public
  id<OrgOssPdfreporterEngineJRPrintElementContainer> container_;
  jint initialContainerHeight_;
  jint xOffset_;
}

@end

J2OBJC_FIELD_SETTER(OrgOssPdfreporterComponentsListBaseFillList_AppendingPrintElementContainer, container_, id<OrgOssPdfreporterEngineJRPrintElementContainer>)

@interface OrgOssPdfreporterComponentsListBaseFillList_$1 : NSObject < OrgOssPdfreporterEngineFillJRFillExpressionEvaluator > {
 @public
  OrgOssPdfreporterComponentsListBaseFillList *this$0_;
}

- (id)evaluateWithOrgOssPdfreporterEngineJRExpression:(id<OrgOssPdfreporterEngineJRExpression>)expression
                                             withByte:(jbyte)evaluationType;

- (OrgOssPdfreporterEngineFillJRFillDataset *)getFillDataset;

- (instancetype)initWithOrgOssPdfreporterComponentsListBaseFillList:(OrgOssPdfreporterComponentsListBaseFillList *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgOssPdfreporterComponentsListBaseFillList_$1)

J2OBJC_FIELD_SETTER(OrgOssPdfreporterComponentsListBaseFillList_$1, this$0_, OrgOssPdfreporterComponentsListBaseFillList *)

__attribute__((unused)) static void OrgOssPdfreporterComponentsListBaseFillList_$1_initWithOrgOssPdfreporterComponentsListBaseFillList_(OrgOssPdfreporterComponentsListBaseFillList_$1 *self, OrgOssPdfreporterComponentsListBaseFillList *outer$);

__attribute__((unused)) static OrgOssPdfreporterComponentsListBaseFillList_$1 *new_OrgOssPdfreporterComponentsListBaseFillList_$1_initWithOrgOssPdfreporterComponentsListBaseFillList_(OrgOssPdfreporterComponentsListBaseFillList *outer$) NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgOssPdfreporterComponentsListBaseFillList_$1 *create_OrgOssPdfreporterComponentsListBaseFillList_$1_initWithOrgOssPdfreporterComponentsListBaseFillList_(OrgOssPdfreporterComponentsListBaseFillList *outer$);

J2OBJC_TYPE_LITERAL_HEADER(OrgOssPdfreporterComponentsListBaseFillList_$1)

J2OBJC_INITIALIZED_DEFN(OrgOssPdfreporterComponentsListBaseFillList)

@implementation OrgOssPdfreporterComponentsListBaseFillList

- (instancetype)initWithOrgOssPdfreporterComponentsListListComponent:(id<OrgOssPdfreporterComponentsListListComponent>)component
                  withOrgOssPdfreporterEngineFillJRFillObjectFactory:(OrgOssPdfreporterEngineFillJRFillObjectFactory *)factory {
  OrgOssPdfreporterComponentsListBaseFillList_initWithOrgOssPdfreporterComponentsListListComponent_withOrgOssPdfreporterEngineFillJRFillObjectFactory_(self, component, factory);
  return self;
}

- (id<OrgOssPdfreporterEngineFillJRFillExpressionEvaluator>)createDatasetExpressionEvaluator {
  return new_OrgOssPdfreporterComponentsListBaseFillList_$1_initWithOrgOssPdfreporterComponentsListBaseFillList_(self);
}

- (void)evaluateWithByte:(jbyte)evaluation {
  if (filling_) {
    [((JavaUtilLoggingLogger *) nil_chk(OrgOssPdfreporterComponentsListBaseFillList_log)) warningWithNSString:@"List fill did not complete, closing previous dataset run"];
    [((OrgOssPdfreporterComponentsListFillDatasetRun *) nil_chk(datasetRun_)) end];
  }
  filling_ = false;
  fillStarted_ = false;
  [((OrgOssPdfreporterComponentsListFillDatasetRun *) nil_chk(datasetRun_)) evaluateWithByte:evaluation];
}

- (void)createPrintFrame {
  printFrame_ = new_OrgOssPdfreporterEngineFillJRTemplatePrintFrame_initWithOrgOssPdfreporterEngineFillJRTemplateFrame_withInt_([self getFrameTemplate], elementId_);
  [printFrame_ setUUIDWithOrgOssPdfreporterUsesJavaUtilUUID:[((id<OrgOssPdfreporterEngineJRComponentElement>) nil_chk([((id<OrgOssPdfreporterEngineComponentFillContext>) nil_chk(fillContext_)) getComponentElement])) getUUID]];
  [((OrgOssPdfreporterEngineFillJRTemplatePrintFrame *) nil_chk(printFrame_)) setXWithInt:[((id<OrgOssPdfreporterEngineJRComponentElement>) nil_chk([((id<OrgOssPdfreporterEngineComponentFillContext>) nil_chk(fillContext_)) getComponentElement])) getX]];
  [((OrgOssPdfreporterEngineFillJRTemplatePrintFrame *) nil_chk(printFrame_)) setWidthWithInt:[((id<OrgOssPdfreporterEngineJRComponentElement>) nil_chk([((id<OrgOssPdfreporterEngineComponentFillContext>) nil_chk(fillContext_)) getComponentElement])) getWidth]];
}

- (OrgOssPdfreporterEngineFillJRTemplateFrame *)getFrameTemplate {
  id<OrgOssPdfreporterEngineJRStyle> style = [((id<OrgOssPdfreporterEngineComponentFillContext>) nil_chk(fillContext_)) getElementStyle];
  OrgOssPdfreporterEngineFillJRTemplateFrame *frameTemplate = [((id<JavaUtilMap>) nil_chk(printFrameTemplates_)) getWithId:style];
  if (frameTemplate == nil) {
    frameTemplate = new_OrgOssPdfreporterEngineFillJRTemplateFrame_initWithOrgOssPdfreporterEngineJROrigin_withOrgOssPdfreporterEngineJRDefaultStyleProvider_([((id<OrgOssPdfreporterEngineComponentFillContext>) nil_chk(fillContext_)) getElementOrigin], [((id<OrgOssPdfreporterEngineComponentFillContext>) nil_chk(fillContext_)) getDefaultStyleProvider]);
    [frameTemplate setElementWithOrgOssPdfreporterEngineJRElement:[((id<OrgOssPdfreporterEngineComponentFillContext>) nil_chk(fillContext_)) getComponentElement]];
    frameTemplate = [self deduplicateWithOrgOssPdfreporterEngineDeduplicable:frameTemplate];
    (void) [((id<JavaUtilMap>) nil_chk(printFrameTemplates_)) putWithId:style withId:frameTemplate];
  }
  return frameTemplate;
}

- (id<OrgOssPdfreporterEngineJRPrintElement>)fill {
  [((OrgOssPdfreporterEngineFillJRTemplatePrintFrame *) nil_chk(printFrame_)) setYWithInt:[((id<OrgOssPdfreporterEngineComponentFillContext>) nil_chk(fillContext_)) getElementPrintY]];
  return printFrame_;
}

- (void)rewind {
  @try {
    if (filling_) {
      [((OrgOssPdfreporterComponentsListFillDatasetRun *) nil_chk(datasetRun_)) end];
    }
    if (fillStarted_) {
      if ([((JavaUtilLoggingLogger *) nil_chk(OrgOssPdfreporterComponentsListBaseFillList_log)) isLoggableWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, FINE)]) {
        [OrgOssPdfreporterComponentsListBaseFillList_log fineWithNSString:@"Rewinding started list"];
      }
      [((OrgOssPdfreporterComponentsListFillDatasetRun *) nil_chk(datasetRun_)) rewind];
    }
    filling_ = false;
    fillStarted_ = false;
  }
  @catch (OrgOssPdfreporterEngineJRException *e) {
    @throw new_OrgOssPdfreporterEngineJRRuntimeException_initWithNSException_(e);
  }
}

+ (void)initialize {
  if (self == [OrgOssPdfreporterComponentsListBaseFillList class]) {
    OrgOssPdfreporterComponentsListBaseFillList_log = JavaUtilLoggingLogger_getLoggerWithNSString_([OrgOssPdfreporterComponentsListBaseFillList_class_() getName]);
    J2OBJC_SET_INITIALIZED(OrgOssPdfreporterComponentsListBaseFillList)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgOssPdfreporterComponentsListListComponent:withOrgOssPdfreporterEngineFillJRFillObjectFactory:", "BaseFillList", NULL, 0x1, "Lorg.oss.pdfreporter.engine.JRException;", NULL },
    { "createDatasetExpressionEvaluator", NULL, "Lorg.oss.pdfreporter.engine.fill.JRFillExpressionEvaluator;", 0x4, NULL, NULL },
    { "evaluateWithByte:", "evaluate", "V", 0x1, "Lorg.oss.pdfreporter.engine.JRException;", NULL },
    { "createPrintFrame", NULL, "V", 0x4, NULL, NULL },
    { "getFrameTemplate", NULL, "Lorg.oss.pdfreporter.engine.fill.JRTemplateFrame;", 0x4, NULL, NULL },
    { "fill", NULL, "Lorg.oss.pdfreporter.engine.JRPrintElement;", 0x1, NULL, NULL },
    { "rewind", NULL, "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "log", "log", 0x1a, "Ljava.util.logging.Logger;", &OrgOssPdfreporterComponentsListBaseFillList_log, NULL, .constantValue.asLong = 0 },
    { "contentsHeight_", NULL, 0x14, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "datasetRun_", NULL, 0x14, "Lorg.oss.pdfreporter.components.list.FillDatasetRun;", NULL, NULL, .constantValue.asLong = 0 },
    { "printFrameTemplates_", NULL, 0x4, "Ljava.util.Map;", NULL, "Ljava/util/Map<Lorg/oss/pdfreporter/engine/JRStyle;Lorg/oss/pdfreporter/engine/fill/JRTemplateFrame;>;", .constantValue.asLong = 0 },
    { "printFrame_", NULL, 0x4, "Lorg.oss.pdfreporter.engine.fill.JRTemplatePrintFrame;", NULL, NULL, .constantValue.asLong = 0 },
    { "filling_", NULL, 0x4, "Z", NULL, NULL, .constantValue.asLong = 0 },
    { "fillStarted_", NULL, 0x4, "Z", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lorg.oss.pdfreporter.components.list.BaseFillList$AppendingPrintElementContainer;"};
  static const J2ObjcClassInfo _OrgOssPdfreporterComponentsListBaseFillList = { 2, "BaseFillList", "org.oss.pdfreporter.components.list", NULL, 0x401, 7, methods, 7, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_OrgOssPdfreporterComponentsListBaseFillList;
}

@end

void OrgOssPdfreporterComponentsListBaseFillList_initWithOrgOssPdfreporterComponentsListListComponent_withOrgOssPdfreporterEngineFillJRFillObjectFactory_(OrgOssPdfreporterComponentsListBaseFillList *self, id<OrgOssPdfreporterComponentsListListComponent> component, OrgOssPdfreporterEngineFillJRFillObjectFactory *factory) {
  OrgOssPdfreporterEngineComponentBaseFillComponent_init(self);
  self->printFrameTemplates_ = new_JavaUtilHashMap_init();
  id<OrgOssPdfreporterComponentsListListContents> listContents = [((id<OrgOssPdfreporterComponentsListListComponent>) nil_chk(component)) getContents];
  self->contentsHeight_ = [((id<OrgOssPdfreporterComponentsListListContents>) nil_chk(listContents)) getHeight];
  self->datasetRun_ = new_OrgOssPdfreporterComponentsListFillDatasetRun_initWithOrgOssPdfreporterEngineJRDatasetRun_withOrgOssPdfreporterEngineFillJRFillObjectFactory_([component getDatasetRun], factory);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgOssPdfreporterComponentsListBaseFillList)

@implementation OrgOssPdfreporterComponentsListBaseFillList_AppendingPrintElementContainer

- (instancetype)initWithOrgOssPdfreporterEngineJRPrintElementContainer:(id<OrgOssPdfreporterEngineJRPrintElementContainer>)container {
  OrgOssPdfreporterComponentsListBaseFillList_AppendingPrintElementContainer_initWithOrgOssPdfreporterEngineJRPrintElementContainer_(self, container);
  return self;
}

- (void)addElementWithOrgOssPdfreporterEngineJRPrintElement:(id<OrgOssPdfreporterEngineJRPrintElement>)element {
  if (xOffset_ > 0) {
    [((id<OrgOssPdfreporterEngineJRPrintElement>) nil_chk(element)) setXWithInt:[element getX] + xOffset_];
  }
  [((id<OrgOssPdfreporterEngineJRPrintElement>) nil_chk(element)) setYWithInt:initialContainerHeight_ + [element getY]];
  [((id<OrgOssPdfreporterEngineJRPrintElementContainer>) nil_chk(container_)) addElementWithOrgOssPdfreporterEngineJRPrintElement:element];
}

- (id<JavaUtilList>)getElements {
  return [((id<OrgOssPdfreporterEngineJRPrintElementContainer>) nil_chk(container_)) getElements];
}

- (jint)getHeight {
  @throw new_JavaLangUnsupportedOperationException_init();
}

- (void)setHeightWithInt:(jint)height {
  jint newHeight = initialContainerHeight_ + height;
  if (newHeight > [((id<OrgOssPdfreporterEngineJRPrintElementContainer>) nil_chk(container_)) getHeight]) {
    [container_ setHeightWithInt:newHeight];
  }
}

- (void)setXOffsetWithInt:(jint)xOffset {
  self->xOffset_ = xOffset;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgOssPdfreporterEngineJRPrintElementContainer:", "AppendingPrintElementContainer", NULL, 0x1, NULL, NULL },
    { "addElementWithOrgOssPdfreporterEngineJRPrintElement:", "addElement", "V", 0x1, NULL, NULL },
    { "getElements", NULL, "Ljava.util.List;", 0x1, NULL, "()Ljava/util/List<Lorg/oss/pdfreporter/engine/JRPrintElement;>;" },
    { "getHeight", NULL, "I", 0x1, NULL, NULL },
    { "setHeightWithInt:", "setHeight", "V", 0x1, NULL, NULL },
    { "setXOffsetWithInt:", "setXOffset", "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "container_", NULL, 0x12, "Lorg.oss.pdfreporter.engine.JRPrintElementContainer;", NULL, NULL, .constantValue.asLong = 0 },
    { "initialContainerHeight_", NULL, 0x12, "I", NULL, NULL, .constantValue.asLong = 0 },
    { "xOffset_", NULL, 0x2, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgOssPdfreporterComponentsListBaseFillList_AppendingPrintElementContainer = { 2, "AppendingPrintElementContainer", "org.oss.pdfreporter.components.list", "BaseFillList", 0xc, 6, methods, 3, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgOssPdfreporterComponentsListBaseFillList_AppendingPrintElementContainer;
}

@end

void OrgOssPdfreporterComponentsListBaseFillList_AppendingPrintElementContainer_initWithOrgOssPdfreporterEngineJRPrintElementContainer_(OrgOssPdfreporterComponentsListBaseFillList_AppendingPrintElementContainer *self, id<OrgOssPdfreporterEngineJRPrintElementContainer> container) {
  NSObject_init(self);
  self->container_ = container;
  self->initialContainerHeight_ = [((id<OrgOssPdfreporterEngineJRPrintElementContainer>) nil_chk(container)) getHeight];
}

OrgOssPdfreporterComponentsListBaseFillList_AppendingPrintElementContainer *new_OrgOssPdfreporterComponentsListBaseFillList_AppendingPrintElementContainer_initWithOrgOssPdfreporterEngineJRPrintElementContainer_(id<OrgOssPdfreporterEngineJRPrintElementContainer> container) {
  J2OBJC_NEW_IMPL(OrgOssPdfreporterComponentsListBaseFillList_AppendingPrintElementContainer, initWithOrgOssPdfreporterEngineJRPrintElementContainer_, container)
}

OrgOssPdfreporterComponentsListBaseFillList_AppendingPrintElementContainer *create_OrgOssPdfreporterComponentsListBaseFillList_AppendingPrintElementContainer_initWithOrgOssPdfreporterEngineJRPrintElementContainer_(id<OrgOssPdfreporterEngineJRPrintElementContainer> container) {
  J2OBJC_CREATE_IMPL(OrgOssPdfreporterComponentsListBaseFillList_AppendingPrintElementContainer, initWithOrgOssPdfreporterEngineJRPrintElementContainer_, container)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgOssPdfreporterComponentsListBaseFillList_AppendingPrintElementContainer)

@implementation OrgOssPdfreporterComponentsListBaseFillList_$1

- (id)evaluateWithOrgOssPdfreporterEngineJRExpression:(id<OrgOssPdfreporterEngineJRExpression>)expression
                                             withByte:(jbyte)evaluationType {
  return [((OrgOssPdfreporterComponentsListFillDatasetRun *) nil_chk(this$0_->datasetRun_)) evaluateDatasetExpressionWithOrgOssPdfreporterEngineJRExpression:expression withByte:evaluationType];
}

- (OrgOssPdfreporterEngineFillJRFillDataset *)getFillDataset {
  return [((OrgOssPdfreporterComponentsListFillDatasetRun *) nil_chk(this$0_->datasetRun_)) getDataset];
}

- (instancetype)initWithOrgOssPdfreporterComponentsListBaseFillList:(OrgOssPdfreporterComponentsListBaseFillList *)outer$ {
  OrgOssPdfreporterComponentsListBaseFillList_$1_initWithOrgOssPdfreporterComponentsListBaseFillList_(self, outer$);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "evaluateWithOrgOssPdfreporterEngineJRExpression:withByte:", "evaluate", "Ljava.lang.Object;", 0x1, "Lorg.oss.pdfreporter.engine.JRException;", NULL },
    { "getFillDataset", NULL, "Lorg.oss.pdfreporter.engine.fill.JRFillDataset;", 0x1, NULL, NULL },
    { "initWithOrgOssPdfreporterComponentsListBaseFillList:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lorg.oss.pdfreporter.components.list.BaseFillList;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "OrgOssPdfreporterComponentsListBaseFillList", "createDatasetExpressionEvaluator" };
  static const J2ObjcClassInfo _OrgOssPdfreporterComponentsListBaseFillList_$1 = { 2, "", "org.oss.pdfreporter.components.list", "BaseFillList", 0x8008, 3, methods, 1, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_OrgOssPdfreporterComponentsListBaseFillList_$1;
}

@end

void OrgOssPdfreporterComponentsListBaseFillList_$1_initWithOrgOssPdfreporterComponentsListBaseFillList_(OrgOssPdfreporterComponentsListBaseFillList_$1 *self, OrgOssPdfreporterComponentsListBaseFillList *outer$) {
  self->this$0_ = outer$;
  NSObject_init(self);
}

OrgOssPdfreporterComponentsListBaseFillList_$1 *new_OrgOssPdfreporterComponentsListBaseFillList_$1_initWithOrgOssPdfreporterComponentsListBaseFillList_(OrgOssPdfreporterComponentsListBaseFillList *outer$) {
  J2OBJC_NEW_IMPL(OrgOssPdfreporterComponentsListBaseFillList_$1, initWithOrgOssPdfreporterComponentsListBaseFillList_, outer$)
}

OrgOssPdfreporterComponentsListBaseFillList_$1 *create_OrgOssPdfreporterComponentsListBaseFillList_$1_initWithOrgOssPdfreporterComponentsListBaseFillList_(OrgOssPdfreporterComponentsListBaseFillList *outer$) {
  J2OBJC_CREATE_IMPL(OrgOssPdfreporterComponentsListBaseFillList_$1, initWithOrgOssPdfreporterComponentsListBaseFillList_, outer$)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgOssPdfreporterComponentsListBaseFillList_$1)
