//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ../pdfreporter-core/src/org/oss/pdfreporter/components/table/fill/FillTableSubreport.java
//

#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "java/sql/Connection.h"
#include "java/util/Collection.h"
#include "java/util/List.h"
#include "java/util/Map.h"
#include "org/oss/pdfreporter/components/table/fill/BuiltinExpressionEvaluatorDecorator.h"
#include "org/oss/pdfreporter/components/table/fill/FillTableSubreport.h"
#include "org/oss/pdfreporter/engine/JRException.h"
#include "org/oss/pdfreporter/engine/JRExpression.h"
#include "org/oss/pdfreporter/engine/JRParameter.h"
#include "org/oss/pdfreporter/engine/JRQuery.h"
#include "org/oss/pdfreporter/engine/JRSubreport.h"
#include "org/oss/pdfreporter/engine/JasperPrint.h"
#include "org/oss/pdfreporter/engine/JasperReport.h"
#include "org/oss/pdfreporter/engine/component/FillContext.h"
#include "org/oss/pdfreporter/engine/component/FillPrepareResult.h"
#include "org/oss/pdfreporter/engine/fill/DatasetExpressionEvaluator.h"
#include "org/oss/pdfreporter/engine/fill/FillContainerContext.h"
#include "org/oss/pdfreporter/engine/fill/IJRBaseFiller.h"
#include "org/oss/pdfreporter/engine/fill/JRBaseFiller.h"
#include "org/oss/pdfreporter/engine/fill/JRFillElement.h"
#include "org/oss/pdfreporter/engine/fill/JRFillObjectFactory.h"
#include "org/oss/pdfreporter/engine/fill/JRFillSubreport.h"
#include "org/oss/pdfreporter/text/bundle/ITextBundle.h"

@interface OrgOssPdfreporterComponentsTableFillFillTableSubreport () {
 @public
  OrgOssPdfreporterEngineJasperReport *tableReport_;
  id<JavaUtilMap> builtinEvaluators_;
}

@end

J2OBJC_FIELD_SETTER(OrgOssPdfreporterComponentsTableFillFillTableSubreport, tableReport_, OrgOssPdfreporterEngineJasperReport *)
J2OBJC_FIELD_SETTER(OrgOssPdfreporterComponentsTableFillFillTableSubreport, builtinEvaluators_, id<JavaUtilMap>)

@implementation OrgOssPdfreporterComponentsTableFillFillTableSubreport

- (instancetype)initWithOrgOssPdfreporterEngineComponentFillContext:(id<OrgOssPdfreporterEngineComponentFillContext>)fillContext
                             withOrgOssPdfreporterEngineJRSubreport:(id<OrgOssPdfreporterEngineJRSubreport>)subreport
                 withOrgOssPdfreporterEngineFillJRFillObjectFactory:(OrgOssPdfreporterEngineFillJRFillObjectFactory *)factory
                            withOrgOssPdfreporterEngineJasperReport:(OrgOssPdfreporterEngineJasperReport *)tableReport
                                                    withJavaUtilMap:(id<JavaUtilMap>)builtinEvaluators {
  OrgOssPdfreporterComponentsTableFillFillTableSubreport_initWithOrgOssPdfreporterEngineComponentFillContext_withOrgOssPdfreporterEngineJRSubreport_withOrgOssPdfreporterEngineFillJRFillObjectFactory_withOrgOssPdfreporterEngineJasperReport_withJavaUtilMap_(self, fillContext, subreport, factory, tableReport, builtinEvaluators);
  return self;
}

- (OrgOssPdfreporterEngineJasperReport *)evaluateReportWithByte:(jbyte)evaluation {
  return tableReport_;
}

- (id<OrgOssPdfreporterEngineFillDatasetExpressionEvaluator>)createEvaluator {
  id<OrgOssPdfreporterEngineFillDatasetExpressionEvaluator> evaluator = [super createEvaluator];
  if (![((id<JavaUtilMap>) nil_chk(builtinEvaluators_)) isEmpty]) {
    evaluator = new_OrgOssPdfreporterComponentsTableFillBuiltinExpressionEvaluatorDecorator_initWithOrgOssPdfreporterEngineFillDatasetExpressionEvaluator_withJavaUtilMap_(evaluator, builtinEvaluators_);
  }
  return evaluator;
}

- (void)evaluateSubreportWithByte:(jbyte)evaluation {
  [super evaluateSubreportWithByte:evaluation];
}

- (id<JavaUtilMap>)evaluateParameterValuesWithByte:(jbyte)evaluation {
  id<JavaUtilMap> values = [super evaluateParameterValuesWithByte:evaluation];
  [self copyConnectionParameterWithJavaUtilMap:values];
  [self copyResourceBundleParameterWithJavaUtilMap:values];
  [self copyTemplatesParameterWithJavaUtilMap:values];
  return values;
}

- (void)copyConnectionParameterWithJavaUtilMap:(id<JavaUtilMap>)parameterValues {
  if (![((id<JavaUtilMap>) nil_chk(parameterValues)) containsKeyWithId:OrgOssPdfreporterEngineJRParameter_REPORT_CONNECTION] && [self getConnectionExpression] == nil) {
    id<OrgOssPdfreporterEngineJRQuery> query = [((OrgOssPdfreporterEngineJasperReport *) nil_chk(tableReport_)) getQuery];
    if (query != nil) {
      NSString *language = [query getLanguage];
      if ([((NSString *) nil_chk(language)) isEqual:@"sql"] || [language isEqual:@"SQL"]) {
        id<JavaSqlConnection> connection = (id<JavaSqlConnection>) cast_check([((id<JavaUtilMap>) nil_chk([((OrgOssPdfreporterEngineFillJRBaseFiller *) nil_chk(filler_)) getParameterValuesMap])) getWithId:OrgOssPdfreporterEngineJRParameter_REPORT_CONNECTION], JavaSqlConnection_class_());
        if (connection != nil) {
          (void) [parameterValues putWithId:OrgOssPdfreporterEngineJRParameter_REPORT_CONNECTION withId:connection];
        }
      }
    }
  }
}

- (void)copyResourceBundleParameterWithJavaUtilMap:(id<JavaUtilMap>)parameterValues {
  if (![((id<JavaUtilMap>) nil_chk(parameterValues)) containsKeyWithId:OrgOssPdfreporterEngineJRParameter_REPORT_RESOURCE_BUNDLE] && [((OrgOssPdfreporterEngineJasperReport *) nil_chk(tableReport_)) getResourceBundle] == nil) {
    id<OrgOssPdfreporterTextBundleITextBundle> resourceBundle = (id<OrgOssPdfreporterTextBundleITextBundle>) cast_check([((id<JavaUtilMap>) nil_chk([((OrgOssPdfreporterEngineFillJRBaseFiller *) nil_chk(filler_)) getParameterValuesMap])) getWithId:OrgOssPdfreporterEngineJRParameter_REPORT_RESOURCE_BUNDLE], OrgOssPdfreporterTextBundleITextBundle_class_());
    if (resourceBundle != nil) {
      (void) [parameterValues putWithId:OrgOssPdfreporterEngineJRParameter_REPORT_RESOURCE_BUNDLE withId:resourceBundle];
    }
  }
}

- (void)copyTemplatesParameterWithJavaUtilMap:(id<JavaUtilMap>)parameterValues {
  id<JavaUtilList> templates = [((OrgOssPdfreporterEngineFillJRBaseFiller *) nil_chk(filler_)) getTemplates];
  (void) [((id<JavaUtilMap>) nil_chk(parameterValues)) putWithId:OrgOssPdfreporterEngineJRParameter_REPORT_TEMPLATES withId:templates];
}

- (OrgOssPdfreporterEngineComponentFillPrepareResult *)prepareSubreportWithInt:(jint)availableHeight
                                                                   withBoolean:(jboolean)isOverflow {
  jboolean willOverflow = [self prepareWithInt:availableHeight withBoolean:isOverflow];
  return OrgOssPdfreporterEngineComponentFillPrepareResult_printStretchWithInt_withBoolean_([self getStretchHeight], willOverflow);
}

- (id<JavaUtilCollection>)getPrintElements {
  return [super getPrintElements];
}

- (jint)getContentsStretchHeight {
  return [super getContentsStretchHeight];
}

- (id<JavaUtilList>)getSubreportStyles {
  return [((OrgOssPdfreporterEngineJasperPrint *) nil_chk([((OrgOssPdfreporterEngineFillJRBaseFiller *) nil_chk(subreportFiller_)) getJasperPrint])) getStylesList];
}

- (id<JavaUtilList>)getSubreportOrigins {
  return [((OrgOssPdfreporterEngineJasperPrint *) nil_chk([((OrgOssPdfreporterEngineFillJRBaseFiller *) nil_chk(subreportFiller_)) getJasperPrint])) getOriginsList];
}

- (void)cancelSubreportFill {
  [super cancelSubreportFill];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgOssPdfreporterEngineComponentFillContext:withOrgOssPdfreporterEngineJRSubreport:withOrgOssPdfreporterEngineFillJRFillObjectFactory:withOrgOssPdfreporterEngineJasperReport:withJavaUtilMap:", "FillTableSubreport", NULL, 0x4, NULL, "(Lorg/oss/pdfreporter/engine/component/FillContext;Lorg/oss/pdfreporter/engine/JRSubreport;Lorg/oss/pdfreporter/engine/fill/JRFillObjectFactory;Lorg/oss/pdfreporter/engine/JasperReport;Ljava/util/Map<Lorg/oss/pdfreporter/engine/JRExpression;Lorg/oss/pdfreporter/components/table/fill/BuiltinExpressionEvaluator;>;)V" },
    { "evaluateReportWithByte:", "evaluateReport", "Lorg.oss.pdfreporter.engine.JasperReport;", 0x4, "Lorg.oss.pdfreporter.engine.JRException;", NULL },
    { "createEvaluator", NULL, "Lorg.oss.pdfreporter.engine.fill.DatasetExpressionEvaluator;", 0x4, "Lorg.oss.pdfreporter.engine.JRException;", NULL },
    { "evaluateSubreportWithByte:", "evaluateSubreport", "V", 0x4, "Lorg.oss.pdfreporter.engine.JRException;", NULL },
    { "evaluateParameterValuesWithByte:", "evaluateParameterValues", "Ljava.util.Map;", 0x4, "Lorg.oss.pdfreporter.engine.JRException;", "(B)Ljava/util/Map<Ljava/lang/String;Ljava/lang/Object;>;" },
    { "copyConnectionParameterWithJavaUtilMap:", "copyConnectionParameter", "V", 0x4, NULL, "(Ljava/util/Map<Ljava/lang/String;Ljava/lang/Object;>;)V" },
    { "copyResourceBundleParameterWithJavaUtilMap:", "copyResourceBundleParameter", "V", 0x4, NULL, "(Ljava/util/Map<Ljava/lang/String;Ljava/lang/Object;>;)V" },
    { "copyTemplatesParameterWithJavaUtilMap:", "copyTemplatesParameter", "V", 0x4, NULL, "(Ljava/util/Map<Ljava/lang/String;Ljava/lang/Object;>;)V" },
    { "prepareSubreportWithInt:withBoolean:", "prepareSubreport", "Lorg.oss.pdfreporter.engine.component.FillPrepareResult;", 0x4, "Lorg.oss.pdfreporter.engine.JRException;", NULL },
    { "getPrintElements", NULL, "Ljava.util.Collection;", 0x4, NULL, "()Ljava/util/Collection<Lorg/oss/pdfreporter/engine/JRPrintElement;>;" },
    { "getContentsStretchHeight", NULL, "I", 0x4, NULL, NULL },
    { "getSubreportStyles", NULL, "Ljava.util.List;", 0x4, NULL, "()Ljava/util/List<Lorg/oss/pdfreporter/engine/JRStyle;>;" },
    { "getSubreportOrigins", NULL, "Ljava.util.List;", 0x4, NULL, "()Ljava/util/List<Lorg/oss/pdfreporter/engine/JROrigin;>;" },
    { "cancelSubreportFill", NULL, "V", 0x4, "Lorg.oss.pdfreporter.engine.JRException;", NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "tableReport_", NULL, 0x12, "Lorg.oss.pdfreporter.engine.JasperReport;", NULL, NULL, .constantValue.asLong = 0 },
    { "builtinEvaluators_", NULL, 0x12, "Ljava.util.Map;", NULL, "Ljava/util/Map<Lorg/oss/pdfreporter/engine/JRExpression;Lorg/oss/pdfreporter/components/table/fill/BuiltinExpressionEvaluator;>;", .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _OrgOssPdfreporterComponentsTableFillFillTableSubreport = { 2, "FillTableSubreport", "org.oss.pdfreporter.components.table.fill", NULL, 0x1, 14, methods, 2, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgOssPdfreporterComponentsTableFillFillTableSubreport;
}

@end

void OrgOssPdfreporterComponentsTableFillFillTableSubreport_initWithOrgOssPdfreporterEngineComponentFillContext_withOrgOssPdfreporterEngineJRSubreport_withOrgOssPdfreporterEngineFillJRFillObjectFactory_withOrgOssPdfreporterEngineJasperReport_withJavaUtilMap_(OrgOssPdfreporterComponentsTableFillFillTableSubreport *self, id<OrgOssPdfreporterEngineComponentFillContext> fillContext, id<OrgOssPdfreporterEngineJRSubreport> subreport, OrgOssPdfreporterEngineFillJRFillObjectFactory *factory, OrgOssPdfreporterEngineJasperReport *tableReport, id<JavaUtilMap> builtinEvaluators) {
  OrgOssPdfreporterEngineFillJRFillSubreport_initWithOrgOssPdfreporterEngineFillJRBaseFiller_withOrgOssPdfreporterEngineJRSubreport_withOrgOssPdfreporterEngineFillJRFillObjectFactory_(self, (OrgOssPdfreporterEngineFillJRBaseFiller *) cast_chk([((id<OrgOssPdfreporterEngineComponentFillContext>) nil_chk(fillContext)) getFiller], [OrgOssPdfreporterEngineFillJRBaseFiller class]), subreport, factory);
  self->fillContainerContext_ = [fillContext getFillContainerContext];
  self->tableReport_ = tableReport;
  self->builtinEvaluators_ = builtinEvaluators;
}

OrgOssPdfreporterComponentsTableFillFillTableSubreport *new_OrgOssPdfreporterComponentsTableFillFillTableSubreport_initWithOrgOssPdfreporterEngineComponentFillContext_withOrgOssPdfreporterEngineJRSubreport_withOrgOssPdfreporterEngineFillJRFillObjectFactory_withOrgOssPdfreporterEngineJasperReport_withJavaUtilMap_(id<OrgOssPdfreporterEngineComponentFillContext> fillContext, id<OrgOssPdfreporterEngineJRSubreport> subreport, OrgOssPdfreporterEngineFillJRFillObjectFactory *factory, OrgOssPdfreporterEngineJasperReport *tableReport, id<JavaUtilMap> builtinEvaluators) {
  J2OBJC_NEW_IMPL(OrgOssPdfreporterComponentsTableFillFillTableSubreport, initWithOrgOssPdfreporterEngineComponentFillContext_withOrgOssPdfreporterEngineJRSubreport_withOrgOssPdfreporterEngineFillJRFillObjectFactory_withOrgOssPdfreporterEngineJasperReport_withJavaUtilMap_, fillContext, subreport, factory, tableReport, builtinEvaluators)
}

OrgOssPdfreporterComponentsTableFillFillTableSubreport *create_OrgOssPdfreporterComponentsTableFillFillTableSubreport_initWithOrgOssPdfreporterEngineComponentFillContext_withOrgOssPdfreporterEngineJRSubreport_withOrgOssPdfreporterEngineFillJRFillObjectFactory_withOrgOssPdfreporterEngineJasperReport_withJavaUtilMap_(id<OrgOssPdfreporterEngineComponentFillContext> fillContext, id<OrgOssPdfreporterEngineJRSubreport> subreport, OrgOssPdfreporterEngineFillJRFillObjectFactory *factory, OrgOssPdfreporterEngineJasperReport *tableReport, id<JavaUtilMap> builtinEvaluators) {
  J2OBJC_CREATE_IMPL(OrgOssPdfreporterComponentsTableFillFillTableSubreport, initWithOrgOssPdfreporterEngineComponentFillContext_withOrgOssPdfreporterEngineJRSubreport_withOrgOssPdfreporterEngineFillJRFillObjectFactory_withOrgOssPdfreporterEngineJasperReport_withJavaUtilMap_, fillContext, subreport, factory, tableReport, builtinEvaluators)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgOssPdfreporterComponentsTableFillFillTableSubreport)
