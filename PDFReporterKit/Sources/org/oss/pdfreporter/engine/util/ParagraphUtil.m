//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ../pdfreporter-core/src/org/oss/pdfreporter/engine/util/ParagraphUtil.java
//

#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/lang/Integer.h"
#include "java/util/ArrayList.h"
#include "java/util/List.h"
#include "org/oss/pdfreporter/engine/JRParagraph.h"
#include "org/oss/pdfreporter/engine/TabStop.h"
#include "org/oss/pdfreporter/engine/type/TabStopAlignEnum.h"
#include "org/oss/pdfreporter/engine/util/ParagraphUtil.h"

@interface OrgOssPdfreporterEngineUtilParagraphUtil ()

- (instancetype)init;

@end

__attribute__((unused)) static void OrgOssPdfreporterEngineUtilParagraphUtil_init(OrgOssPdfreporterEngineUtilParagraphUtil *self);

__attribute__((unused)) static OrgOssPdfreporterEngineUtilParagraphUtil *new_OrgOssPdfreporterEngineUtilParagraphUtil_init() NS_RETURNS_RETAINED;

__attribute__((unused)) static OrgOssPdfreporterEngineUtilParagraphUtil *create_OrgOssPdfreporterEngineUtilParagraphUtil_init();

@implementation OrgOssPdfreporterEngineUtilParagraphUtil

+ (IOSObjectArray *)getTabStopsWithOrgOssPdfreporterEngineJRParagraph:(id<OrgOssPdfreporterEngineJRParagraph>)paragraph
                                                            withFloat:(jfloat)endX {
  return OrgOssPdfreporterEngineUtilParagraphUtil_getTabStopsWithOrgOssPdfreporterEngineJRParagraph_withFloat_(paragraph, endX);
}

+ (jfloat)getRightXWithOrgOssPdfreporterEngineTabStop:(OrgOssPdfreporterEngineTabStop *)tabStop
                                            withFloat:(jfloat)advance {
  return OrgOssPdfreporterEngineUtilParagraphUtil_getRightXWithOrgOssPdfreporterEngineTabStop_withFloat_(tabStop, advance);
}

+ (jfloat)getLeftXWithOrgOssPdfreporterEngineTabStop:(OrgOssPdfreporterEngineTabStop *)tabStop
                                           withFloat:(jfloat)advance {
  return OrgOssPdfreporterEngineUtilParagraphUtil_getLeftXWithOrgOssPdfreporterEngineTabStop_withFloat_(tabStop, advance);
}

+ (jfloat)getSegmentOffsetWithOrgOssPdfreporterEngineTabStop:(OrgOssPdfreporterEngineTabStop *)tabStop
                                                   withFloat:(jfloat)rightX {
  return OrgOssPdfreporterEngineUtilParagraphUtil_getSegmentOffsetWithOrgOssPdfreporterEngineTabStop_withFloat_(tabStop, rightX);
}

+ (OrgOssPdfreporterEngineTabStop *)getNextTabStopWithOrgOssPdfreporterEngineJRParagraph:(id<OrgOssPdfreporterEngineJRParagraph>)paragraph
                                                                               withFloat:(jfloat)endX
                                                                               withFloat:(jfloat)rightX {
  return OrgOssPdfreporterEngineUtilParagraphUtil_getNextTabStopWithOrgOssPdfreporterEngineJRParagraph_withFloat_withFloat_(paragraph, endX, rightX);
}

+ (OrgOssPdfreporterEngineTabStop *)getFirstTabStopWithOrgOssPdfreporterEngineJRParagraph:(id<OrgOssPdfreporterEngineJRParagraph>)paragraph
                                                                                withFloat:(jfloat)endX {
  return OrgOssPdfreporterEngineUtilParagraphUtil_getFirstTabStopWithOrgOssPdfreporterEngineJRParagraph_withFloat_(paragraph, endX);
}

+ (OrgOssPdfreporterEngineTabStop *)getLastTabStopWithOrgOssPdfreporterEngineJRParagraph:(id<OrgOssPdfreporterEngineJRParagraph>)paragraph
                                                                               withFloat:(jfloat)endX {
  return OrgOssPdfreporterEngineUtilParagraphUtil_getLastTabStopWithOrgOssPdfreporterEngineJRParagraph_withFloat_(paragraph, endX);
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  OrgOssPdfreporterEngineUtilParagraphUtil_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "getTabStopsWithOrgOssPdfreporterEngineJRParagraph:withFloat:", "getTabStops", "[Lorg.oss.pdfreporter.engine.TabStop;", 0x9, NULL, NULL },
    { "getRightXWithOrgOssPdfreporterEngineTabStop:withFloat:", "getRightX", "F", 0x9, NULL, NULL },
    { "getLeftXWithOrgOssPdfreporterEngineTabStop:withFloat:", "getLeftX", "F", 0x9, NULL, NULL },
    { "getSegmentOffsetWithOrgOssPdfreporterEngineTabStop:withFloat:", "getSegmentOffset", "F", 0x9, NULL, NULL },
    { "getNextTabStopWithOrgOssPdfreporterEngineJRParagraph:withFloat:withFloat:", "getNextTabStop", "Lorg.oss.pdfreporter.engine.TabStop;", 0x9, NULL, NULL },
    { "getFirstTabStopWithOrgOssPdfreporterEngineJRParagraph:withFloat:", "getFirstTabStop", "Lorg.oss.pdfreporter.engine.TabStop;", 0x9, NULL, NULL },
    { "getLastTabStopWithOrgOssPdfreporterEngineJRParagraph:withFloat:", "getLastTabStop", "Lorg.oss.pdfreporter.engine.TabStop;", 0x9, NULL, NULL },
    { "init", "ParagraphUtil", NULL, 0x2, NULL, NULL },
  };
  static const J2ObjcClassInfo _OrgOssPdfreporterEngineUtilParagraphUtil = { 2, "ParagraphUtil", "org.oss.pdfreporter.engine.util", NULL, 0x11, 8, methods, 0, NULL, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgOssPdfreporterEngineUtilParagraphUtil;
}

@end

IOSObjectArray *OrgOssPdfreporterEngineUtilParagraphUtil_getTabStopsWithOrgOssPdfreporterEngineJRParagraph_withFloat_(id<OrgOssPdfreporterEngineJRParagraph> paragraph, jfloat endX) {
  OrgOssPdfreporterEngineUtilParagraphUtil_initialize();
  id<JavaUtilList> tabStopList = new_JavaUtilArrayList_init();
  OrgOssPdfreporterEngineTabStop *lastTabStop = new_OrgOssPdfreporterEngineTabStop_init();
  IOSObjectArray *tabStops = [((id<OrgOssPdfreporterEngineJRParagraph>) nil_chk(paragraph)) getTabStops];
  if (tabStops != nil && tabStops->size_ > 0) {
    for (jint i = 0; i < tabStops->size_; i++) {
      lastTabStop = IOSObjectArray_Get(tabStops, i);
      if ([((OrgOssPdfreporterEngineTabStop *) nil_chk(lastTabStop)) getPosition] <= endX) {
        [tabStopList addWithId:lastTabStop];
      }
    }
  }
  while ([lastTabStop getPosition] + [((JavaLangInteger *) nil_chk([paragraph getTabStopWidth])) intValue] <= endX) {
    lastTabStop = new_OrgOssPdfreporterEngineTabStop_initWithInt_withOrgOssPdfreporterEngineTypeTabStopAlignEnum_(([lastTabStop getPosition] / [((JavaLangInteger *) nil_chk([paragraph getTabStopWidth])) intValue] + 1) * [((JavaLangInteger *) nil_chk([paragraph getTabStopWidth])) intValue], JreLoadEnum(OrgOssPdfreporterEngineTypeTabStopAlignEnum, LEFT));
    [tabStopList addWithId:lastTabStop];
  }
  return [tabStopList toArrayWithNSObjectArray:[IOSObjectArray newArrayWithLength:[tabStopList size] type:OrgOssPdfreporterEngineTabStop_class_()]];
}

jfloat OrgOssPdfreporterEngineUtilParagraphUtil_getRightXWithOrgOssPdfreporterEngineTabStop_withFloat_(OrgOssPdfreporterEngineTabStop *tabStop, jfloat advance) {
  OrgOssPdfreporterEngineUtilParagraphUtil_initialize();
  jfloat rightX = advance;
  if (tabStop != nil) {
    switch ([[tabStop getAlignment] ordinal]) {
      case OrgOssPdfreporterEngineTypeTabStopAlignEnum_Enum_RIGHT:
      {
        rightX = [tabStop getPosition];
        break;
      }
      case OrgOssPdfreporterEngineTypeTabStopAlignEnum_Enum_CENTER:
      {
        rightX = [tabStop getPosition] + advance / 2;
        break;
      }
      case OrgOssPdfreporterEngineTypeTabStopAlignEnum_Enum_LEFT:
      default:
      {
        rightX = [tabStop getPosition] + advance;
      }
    }
  }
  return rightX;
}

jfloat OrgOssPdfreporterEngineUtilParagraphUtil_getLeftXWithOrgOssPdfreporterEngineTabStop_withFloat_(OrgOssPdfreporterEngineTabStop *tabStop, jfloat advance) {
  OrgOssPdfreporterEngineUtilParagraphUtil_initialize();
  jfloat leftX = 0;
  if (tabStop != nil) {
    switch ([[tabStop getAlignment] ordinal]) {
      case OrgOssPdfreporterEngineTypeTabStopAlignEnum_Enum_RIGHT:
      {
        leftX = [tabStop getPosition] - advance;
        break;
      }
      case OrgOssPdfreporterEngineTypeTabStopAlignEnum_Enum_CENTER:
      {
        leftX = [tabStop getPosition] - advance / 2;
        break;
      }
      case OrgOssPdfreporterEngineTypeTabStopAlignEnum_Enum_LEFT:
      default:
      {
        leftX = [tabStop getPosition];
      }
    }
  }
  return leftX;
}

jfloat OrgOssPdfreporterEngineUtilParagraphUtil_getSegmentOffsetWithOrgOssPdfreporterEngineTabStop_withFloat_(OrgOssPdfreporterEngineTabStop *tabStop, jfloat rightX) {
  OrgOssPdfreporterEngineUtilParagraphUtil_initialize();
  jfloat segmentOffset = rightX;
  if (tabStop != nil) {
    switch ([[tabStop getAlignment] ordinal]) {
      case OrgOssPdfreporterEngineTypeTabStopAlignEnum_Enum_RIGHT:
      {
        segmentOffset = rightX;
        break;
      }
      case OrgOssPdfreporterEngineTypeTabStopAlignEnum_Enum_CENTER:
      {
        segmentOffset = rightX;
        break;
      }
      case OrgOssPdfreporterEngineTypeTabStopAlignEnum_Enum_LEFT:
      default:
      {
        segmentOffset = [tabStop getPosition];
      }
    }
  }
  return segmentOffset;
}

OrgOssPdfreporterEngineTabStop *OrgOssPdfreporterEngineUtilParagraphUtil_getNextTabStopWithOrgOssPdfreporterEngineJRParagraph_withFloat_withFloat_(id<OrgOssPdfreporterEngineJRParagraph> paragraph, jfloat endX, jfloat rightX) {
  OrgOssPdfreporterEngineUtilParagraphUtil_initialize();
  OrgOssPdfreporterEngineTabStop *nextTabStop = nil;
  IOSObjectArray *tabStops = OrgOssPdfreporterEngineUtilParagraphUtil_getTabStopsWithOrgOssPdfreporterEngineJRParagraph_withFloat_(paragraph, endX);
  jint i = 0;
  for (; i < ((IOSObjectArray *) nil_chk(tabStops))->size_; i++) {
    OrgOssPdfreporterEngineTabStop *tabStop = IOSObjectArray_Get(tabStops, i);
    if ([((OrgOssPdfreporterEngineTabStop *) nil_chk(tabStop)) getPosition] > rightX) {
      nextTabStop = tabStop;
      break;
    }
  }
  if (i == tabStops->size_) {
    nextTabStop = new_OrgOssPdfreporterEngineTabStop_init();
    [nextTabStop setPositionWithInt:JreFpToInt(((rightX / [((JavaLangInteger *) nil_chk([((id<OrgOssPdfreporterEngineJRParagraph>) nil_chk(paragraph)) getTabStopWidth])) intValue] + 1) * [((JavaLangInteger *) nil_chk([paragraph getTabStopWidth])) intValue]))];
  }
  return nextTabStop;
}

OrgOssPdfreporterEngineTabStop *OrgOssPdfreporterEngineUtilParagraphUtil_getFirstTabStopWithOrgOssPdfreporterEngineJRParagraph_withFloat_(id<OrgOssPdfreporterEngineJRParagraph> paragraph, jfloat endX) {
  OrgOssPdfreporterEngineUtilParagraphUtil_initialize();
  OrgOssPdfreporterEngineTabStop *firstTabStop = new_OrgOssPdfreporterEngineTabStop_init();
  IOSObjectArray *tabStops = OrgOssPdfreporterEngineUtilParagraphUtil_getTabStopsWithOrgOssPdfreporterEngineJRParagraph_withFloat_(paragraph, endX);
  firstTabStop = IOSObjectArray_Get(nil_chk(tabStops), 0);
  return firstTabStop;
}

OrgOssPdfreporterEngineTabStop *OrgOssPdfreporterEngineUtilParagraphUtil_getLastTabStopWithOrgOssPdfreporterEngineJRParagraph_withFloat_(id<OrgOssPdfreporterEngineJRParagraph> paragraph, jfloat endX) {
  OrgOssPdfreporterEngineUtilParagraphUtil_initialize();
  OrgOssPdfreporterEngineTabStop *lastTabStop = new_OrgOssPdfreporterEngineTabStop_init();
  IOSObjectArray *tabStops = OrgOssPdfreporterEngineUtilParagraphUtil_getTabStopsWithOrgOssPdfreporterEngineJRParagraph_withFloat_(paragraph, endX);
  jint i = ((IOSObjectArray *) nil_chk(tabStops))->size_ - 1;
  for (; i >= 0; i--) {
    OrgOssPdfreporterEngineTabStop *tabStop = IOSObjectArray_Get(tabStops, i);
    if ([((OrgOssPdfreporterEngineTabStop *) nil_chk(tabStop)) getPosition] < endX) {
      lastTabStop = tabStop;
      break;
    }
  }
  if (i < 0) {
    [lastTabStop setPositionWithInt:JreFpToInt(endX)];
  }
  return lastTabStop;
}

void OrgOssPdfreporterEngineUtilParagraphUtil_init(OrgOssPdfreporterEngineUtilParagraphUtil *self) {
  NSObject_init(self);
}

OrgOssPdfreporterEngineUtilParagraphUtil *new_OrgOssPdfreporterEngineUtilParagraphUtil_init() {
  J2OBJC_NEW_IMPL(OrgOssPdfreporterEngineUtilParagraphUtil, init)
}

OrgOssPdfreporterEngineUtilParagraphUtil *create_OrgOssPdfreporterEngineUtilParagraphUtil_init() {
  J2OBJC_CREATE_IMPL(OrgOssPdfreporterEngineUtilParagraphUtil, init)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgOssPdfreporterEngineUtilParagraphUtil)
